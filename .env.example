# ==================================
# Consultor.AI - Environment Variables
# ==================================
#
# Copy this file to .env.local and fill in the values
# DO NOT commit .env.local to version control
#
# Documentation: See docs/guides/getting-started.md for setup instructions

# ----------------------------------
# Application
# ----------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ----------------------------------
# Supabase (https://supabase.com)
# ----------------------------------
# Get these from your Supabase project settings > API
# For local development, run `supabase start` and use the local values

# NOTE: Supabase is migrating naming:
# - anon key → publishable key (public, safe for client)
# - service_role key → secret key (server-only, NEVER expose to client)

# Public - Safe to expose to client
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321

# Legacy naming (still supported)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# New naming (preferred)
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-key-here
SUPABASE_SECRET_KEY=your-secret-key-here

# Database connection (for direct queries if needed)
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ----------------------------------
# Google AI (https://ai.google.dev)
# ----------------------------------
# Get your API key from: https://makersuite.google.com/app/apikey
# For local development with mocks, use: mock-google-ai-key
GOOGLE_AI_API_KEY=your-google-ai-api-key-here

# Google AI Configuration
GOOGLE_AI_MODEL=gemini-1.5-flash
GOOGLE_AI_TEMPERATURE=0.4
GOOGLE_AI_MAX_TOKENS=200

# ----------------------------------
# Meta WhatsApp Cloud API (Recommended)
# ----------------------------------
# Official Meta WhatsApp Business Platform with Embedded Signup
# See docs/architecture/Meta-WhatsApp-Integration.md for setup guide

# Meta App Configuration
# Get from: https://developers.facebook.com/apps
NEXT_PUBLIC_META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_APP_ACCESS_TOKEN=your-system-user-access-token

# Embedded Signup Configuration
# Get from: WhatsApp → Configuration → Embedded Signup
NEXT_PUBLIC_META_CONFIG_ID=your-embedded-signup-config-id

# Webhook Verification
# Generate random string: openssl rand -hex 32
META_WEBHOOK_VERIFY_TOKEN=your-random-verify-token

# ----------------------------------
# Multi-Tenant Configuration
# ----------------------------------
# IMPORTANT: Each consultant connects their OWN WhatsApp via Meta Embedded Signup.
# Their access tokens are stored ENCRYPTED in the database.
# See docs/architecture/Multi-Tenant-Architecture.md for details.

# Encryption key for storing consultant credentials (REQUIRED)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# ----------------------------------
# Canva API (Optional - Phase 2)
# ----------------------------------
# Get these from: https://www.canva.com/developers
CANVA_API_KEY=your-canva-api-key-here
CANVA_API_SECRET=your-canva-api-secret-here

# ----------------------------------
# Google Calendar (Optional - Phase 3)
# ----------------------------------
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/callback/google

# ----------------------------------
# Monitoring & Analytics
# ----------------------------------

# Sentry (Error tracking)
# Get from: https://sentry.io
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn-here
SENTRY_AUTH_TOKEN=your-sentry-auth-token-here

# Vercel Analytics (if deploying to Vercel)
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=your-analytics-id-here

# ----------------------------------
# Feature Flags (Optional)
# ----------------------------------
# Enable/disable features during development
NEXT_PUBLIC_FEATURE_IMAGE_GENERATION=false
NEXT_PUBLIC_FEATURE_CALENDAR_INTEGRATION=false
NEXT_PUBLIC_FEATURE_CRM_INTEGRATION=false
NEXT_PUBLIC_FEATURE_ANALYTICS_ADVANCED=false

# ----------------------------------
# Redis (Cache & Rate Limiting)
# ----------------------------------
# For local development with Docker
REDIS_URL=redis://:consultorai_dev_password@localhost:6379
REDIS_PASSWORD=consultorai_dev_password

# ----------------------------------
# Security
# ----------------------------------
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here
NEXTAUTH_URL=http://localhost:3000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ----------------------------------
# Stripe (Billing & Subscriptions)
# ----------------------------------
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Webhook signing secret (from `stripe listen` CLI or Dashboard)
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-signing-secret

# Stripe Price IDs (create in Stripe Dashboard > Products)
STRIPE_PRO_PRICE_ID=price_your-pro-plan-price-id
STRIPE_AGENCIA_PRICE_ID=price_your-agencia-plan-price-id
STRIPE_CREDITS50_PRICE_ID=price_your-credits50-price-id

# ----------------------------------
# Email (Resend - Transactional Emails)
# ----------------------------------
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your-resend-api-key
EMAIL_FROM=noreply@consultor.ai

# Legacy SMTP configuration (optional fallback)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here
SMTP_FROM=noreply@consultor.ai

# ----------------------------------
# Admin Configuration
# ----------------------------------
# Comma-separated emails that get admin role on signup
ADMIN_EMAILS=admin@consultor.ai

# ----------------------------------
# Analytics (Plausible - optional)
# ----------------------------------
# Get from: https://plausible.io/settings
PLAUSIBLE_API_KEY=your-plausible-api-key
PLAUSIBLE_SITE_ID=consultor.ai

# ----------------------------------
# Development Tools
# ----------------------------------
# Enable debug mode
DEBUG=false

# Show detailed errors
SHOW_DETAILED_ERRORS=true

# Enable React Query Devtools
NEXT_PUBLIC_ENABLE_REACT_QUERY_DEVTOOLS=true

# Enable verbose logging
VERBOSE_LOGGING=false

# ----------------------------------
# Testing
# ----------------------------------
# Use different database for tests
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:54322/test

# E2E Testing base URL
PLAYWRIGHT_BASE_URL=http://localhost:3000

# ----------------------------------
# CI/CD
# ----------------------------------
# Set to true in CI environment
CI=false
SKIP_ENV_VALIDATION=false

# ----------------------------------
# Notes
# ----------------------------------
#
# Local Development:
# 1. Copy this file to .env.local
# 2. Run `supabase start` to get local Supabase credentials
# 3. Fill in your API keys
# 4. Run `npm run dev`
#
# Production:
# 1. Set these in Vercel environment variables
# 2. Use production Supabase project credentials
# 3. Enable required features
#
# Security:
# - NEVER commit .env.local or .env.production to Git
# - Use strong, randomly generated secrets
# - Rotate API keys regularly
# - Use different keys for development and production
