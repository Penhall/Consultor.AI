# Diferencial Competitivo: Onboarding Automatizado

## üéØ Problema do Mercado

### Como funciona nos concorrentes

**Typebot, Weni, ManyChat, etc:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PASSO 1: Criar conta no WhatsApp Business API         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo: 30-60 minutos                               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ 1. Acesse Meta Business Suite                          ‚îÇ
‚îÇ 2. Crie WhatsApp Business Account                      ‚îÇ
‚îÇ 3. Adicione n√∫mero de telefone                         ‚îÇ
‚îÇ 4. Verifique n√∫mero (SMS/liga√ß√£o)                      ‚îÇ
‚îÇ 5. Configure perfil do neg√≥cio                         ‚îÇ
‚îÇ 6. Configure billing (cart√£o de cr√©dito)               ‚îÇ
‚îÇ 7. Aguarde aprova√ß√£o (pode levar horas/dias)           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PASSO 2: Criar conta no provedor (Weni/360dialog)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo: 15-30 minutos                               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ 1. Acesse weni.ai ou 360dialog.com                     ‚îÇ
‚îÇ 2. Crie conta                                           ‚îÇ
‚îÇ 3. Verifique email                                      ‚îÇ
‚îÇ 4. Complete KYC (Know Your Customer)                   ‚îÇ
‚îÇ 5. Conecte WhatsApp Business Account                   ‚îÇ
‚îÇ 6. Configure billing                                    ‚îÇ
‚îÇ 7. Aguarde aprova√ß√£o                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PASSO 3: Conectar provedor √† plataforma               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo: 10-20 minutos                               ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ 1. V√° em Settings ‚Üí API Keys no Weni                   ‚îÇ
‚îÇ 2. Gere nova API Key                                    ‚îÇ
‚îÇ 3. Copie API Key                                        ‚îÇ
‚îÇ 4. Cole no Typebot/ManyChat                            ‚îÇ
‚îÇ 5. Copie Webhook URL do Typebot                        ‚îÇ
‚îÇ 6. Cole no Weni ‚Üí Settings ‚Üí Webhooks                  ‚îÇ
‚îÇ 7. Configure eventos (messages, status, etc)           ‚îÇ
‚îÇ 8. Teste conex√£o                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ RESULTADO                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo total: 1-2 horas                             ‚îÇ
‚îÇ ü§Ø Complexidade: Alta (t√©cnico)                        ‚îÇ
‚îÇ üí∏ Custo: R$200-500/m√™s (Weni/360dialog)              ‚îÇ
‚îÇ üò´ Taxa de desist√™ncia: ~40-60%                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Nossa Solu√ß√£o (Consultor.AI)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ONBOARDING COMPLETO                                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo: 2-5 minutos                                 ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ 1. Clica "Conectar WhatsApp"                           ‚îÇ
‚îÇ 2. Login com Facebook                                   ‚îÇ
‚îÇ 3. Autoriza permiss√µes                                  ‚îÇ
‚îÇ 4. ‚úì Pronto!                                           ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ Tudo mais √© AUTOM√ÅTICO:                                ‚îÇ
‚îÇ - Cria WhatsApp Business Account automaticamente       ‚îÇ
‚îÇ - Registra webhook automaticamente                     ‚îÇ
‚îÇ - Subscreve eventos automaticamente                    ‚îÇ
‚îÇ - Salva credenciais automaticamente                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ RESULTADO                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚è±Ô∏è  Tempo total: 2-5 minutos                           ‚îÇ
‚îÇ üéâ Complexidade: Baix√≠ssima (qualquer um faz)         ‚îÇ
‚îÇ üí∞ Custo: R$0 (Meta API gr√°tis at√© 1k conversas)     ‚îÇ
‚îÇ üòç Taxa de desist√™ncia: ~5-10%                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ Como Automatizamos Tudo

### 1. Coleta Inteligente de Dados

Durante o cadastro e onboarding, coletamos informa√ß√µes que automatizam TUDO:

#### Cadastro Inicial

```typescript
// Formul√°rio de cadastro
interface ConsultantSignup {
  // Dados pessoais
  fullName: string              // "Jo√£o Silva"
  email: string                 // "joao@example.com"
  phone: string                 // "+5561982809595"

  // Dados profissionais
  businessName: string          // "Jo√£o Silva - Planos de Sa√∫de"
  businessCategory: string      // "Seguros e Planos de Sa√∫de"
  cpfCnpj: string              // Para verifica√ß√£o Meta

  // Vertical (predefinido)
  vertical: 'health' | 'real-estate' | 'insurance'

  // Informa√ß√µes adicionais (opcional)
  website?: string
  instagram?: string
  address?: {
    street: string
    city: string
    state: string
    zipCode: string
  }
}
```

#### O que fazemos com esses dados

```typescript
// Quando consultor clica "Conectar WhatsApp"

async function handleMetaEmbeddedSignup() {
  // 1. Pr√©-preenche informa√ß√µes no Meta Embedded Signup
  FB.login(response => {
    // ...
  }, {
    config_id: CONFIG_ID,
    extras: {
      setup: {
        // üéØ PR√â-PREENCHE TUDO!
        business: {
          name: consultant.businessName,  // "Jo√£o Silva - Planos de Sa√∫de"
          email: consultant.email,
          phone: consultant.phone,
          website: consultant.website,
          address: {
            street_address: consultant.address.street,
            city: consultant.address.city,
            state: consultant.address.state,
            zip: consultant.address.zipCode,
            country: 'BR'
          }
        },
        phone: {
          display_name: consultant.businessName,
          category: getWhatsAppCategory(consultant.vertical),
          description: getDefaultDescription(consultant.vertical)
        }
      }
    }
  })
}

// Mapeia vertical para categoria WhatsApp
function getWhatsAppCategory(vertical: string): string {
  const mapping = {
    'health': 'INSURANCE',
    'real-estate': 'REAL_ESTATE',
    'insurance': 'INSURANCE',
    'automotive': 'AUTOMOTIVE'
  }
  return mapping[vertical] || 'OTHER'
}

// Gera descri√ß√£o autom√°tica
function getDefaultDescription(vertical: string): string {
  const templates = {
    'health': 'Consultoria especializada em planos de sa√∫de. Tire suas d√∫vidas e encontre o plano ideal para voc√™ e sua fam√≠lia.',
    'real-estate': 'Assessoria imobili√°ria personalizada. Encontre o im√≥vel dos seus sonhos com atendimento profissional.',
    'insurance': 'Corretagem de seguros com atendimento personalizado. Proteja o que √© importante para voc√™.'
  }
  return templates[vertical] || 'Atendimento personalizado via WhatsApp'
}
```

### 2. Configura√ß√£o Autom√°tica P√≥s-Conex√£o

```typescript
// Ap√≥s Meta retornar o access_token

async function postMetaConnectionSetup(consultantId: string, wabaId: string, accessToken: string) {
  // 1. Configura perfil do WhatsApp Business automaticamente
  await configureWhatsAppProfile(wabaId, accessToken, {
    about: await generateAboutText(consultantId),
    address: await getConsultantAddress(consultantId),
    description: await generateDescription(consultantId),
    email: await getConsultantEmail(consultantId),
    profile_picture_url: await getConsultantLogo(consultantId),
    websites: await getConsultantWebsites(consultantId),
    vertical: await getConsultantVertical(consultantId)
  })

  // 2. Configura mensagens autom√°ticas
  await setupAutoMessages(wabaId, accessToken, {
    greeting_message: await generateGreetingMessage(consultantId),
    away_message: await generateAwayMessage(consultantId)
  })

  // 3. Cria templates de mensagem padr√£o
  await createDefaultTemplates(wabaId, accessToken, consultantId)

  // 4. Configura hor√°rio de atendimento
  await setupBusinessHours(wabaId, accessToken, {
    timezone: 'America/Sao_Paulo',
    business_hours: await getConsultantBusinessHours(consultantId)
  })
}

// Gera texto "Sobre" personalizado
async function generateAboutText(consultantId: string): Promise<string> {
  const consultant = await getConsultant(consultantId)
  return `${consultant.businessName} - Atendimento autom√°tico 24/7 ü§ñ`
}

// Gera mensagem de sauda√ß√£o personalizada
async function generateGreetingMessage(consultantId: string): Promise<string> {
  const consultant = await getConsultant(consultantId)

  const templates = {
    health: `Ol√°! üëã Sou o assistente virtual da ${consultant.businessName}.

Estou aqui para te ajudar a encontrar o plano de sa√∫de ideal para voc√™ e sua fam√≠lia! üè•

Como posso te ajudar hoje?`,

    'real-estate': `Ol√°! üëã Bem-vindo(a) √† ${consultant.businessName}.

Estou aqui para te ajudar a encontrar o im√≥vel perfeito! üè°

O que voc√™ est√° procurando?`,

    insurance: `Ol√°! üëã Seja bem-vindo(a) √† ${consultant.businessName}.

Estou aqui para te ajudar com seguros e prote√ß√µes! üõ°Ô∏è

Em que posso te ajudar?`
  }

  return templates[consultant.vertical] || `Ol√°! Como posso te ajudar?`
}

// Cria templates padr√£o para o consultor
async function createDefaultTemplates(wabaId: string, accessToken: string, consultantId: string) {
  const consultant = await getConsultant(consultantId)

  const templates = [
    {
      name: 'welcome_message',
      language: 'pt_BR',
      category: 'UTILITY',
      components: [
        {
          type: 'BODY',
          text: `Ol√° {{1}}! Obrigado por entrar em contato com ${consultant.businessName}. Como posso te ajudar hoje?`
        }
      ]
    },
    {
      name: 'follow_up',
      language: 'pt_BR',
      category: 'MARKETING',
      components: [
        {
          type: 'BODY',
          text: `Oi {{1}}! Vi que voc√™ demonstrou interesse em nossos servi√ßos. Gostaria de saber mais? Estou √† disposi√ß√£o! üòä`
        }
      ]
    },
    {
      name: 'appointment_confirmation',
      language: 'pt_BR',
      category: 'UTILITY',
      components: [
        {
          type: 'BODY',
          text: `Oi {{1}}! Confirmando nosso atendimento para {{2}} √†s {{3}}h. Nos vemos l√°! üìÖ`
        }
      ]
    }
  ]

  for (const template of templates) {
    await fetch(
      `https://graph.facebook.com/v18.0/${wabaId}/message_templates`,
      {
        method: 'POST',
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(template)
      }
    )
  }
}
```

### 3. Personaliza√ß√£o Baseada em IA

```typescript
// Usa IA para gerar configura√ß√µes personalizadas

async function generatePersonalizedConfig(consultantId: string) {
  const consultant = await getConsultant(consultantId)

  const prompt = `
Voc√™ √© um assistente que ajuda consultores a configurar seu WhatsApp Business.

Informa√ß√µes do consultor:
- Nome: ${consultant.fullName}
- Neg√≥cio: ${consultant.businessName}
- Vertical: ${consultant.vertical}
- Regi√£o: ${consultant.address?.city}, ${consultant.address?.state}

Gere:
1. Uma descri√ß√£o profissional para o WhatsApp Business (m√°x 256 chars)
2. Uma mensagem de sauda√ß√£o acolhedora e profissional (m√°x 160 chars)
3. Uma mensagem de aus√™ncia para fora do hor√°rio comercial (m√°x 160 chars)
4. 5 palavras-chave que representam o neg√≥cio

Formato JSON:
{
  "description": "...",
  "greeting": "...",
  "awayMessage": "...",
  "keywords": ["...", "..."]
}
`

  const response = await generateAIResponse(prompt)
  return JSON.parse(response)
}

// Aplica configura√ß√£o gerada
async function applyAIGeneratedConfig(wabaId: string, accessToken: string, config: any) {
  await fetch(`https://graph.facebook.com/v18.0/${wabaId}`, {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${accessToken}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      about: config.description,
      // ... outras configura√ß√µes
    })
  })
}
```

## üìä Dados Coletados vs Automa√ß√£o

| Dado Coletado | Como Automatizamos | Benef√≠cio |
|---------------|-------------------|-----------|
| **Nome Completo** | Pr√©-preenche nome no Meta signup | Menos digita√ß√£o |
| **Email** | Pr√©-preenche email no Meta signup | Menos digita√ß√£o |
| **Telefone** | Sugere como n√∫mero do WhatsApp | 1 clique para selecionar |
| **Nome do Neg√≥cio** | Display name do WhatsApp | Profissionalismo |
| **Vertical** | Categoria WhatsApp + descri√ß√£o auto | Perfil otimizado |
| **Endere√ßo** | Location no WhatsApp Business | SEO local |
| **Website** | Link no perfil WhatsApp | Mais credibilidade |
| **Logo** | Foto de perfil WhatsApp | Brand identity |
| **Hor√°rio** | Business hours autom√°tico | Expectativa clara |

## üé® UI do Formul√°rio Estendido

### Passo 1: Cadastro B√°sico

```typescript
// Signup b√°sico (j√° existe)
<Input name="fullName" label="Nome completo" />
<Input name="email" type="email" label="Email" />
<Input name="password" type="password" label="Senha" />
```

### Passo 2: Informa√ß√µes do Neg√≥cio (Novo)

```typescript
<Card>
  <CardHeader>
    <CardTitle>Sobre seu neg√≥cio</CardTitle>
    <CardDescription>
      Essas informa√ß√µes nos ajudam a configurar automaticamente seu
      WhatsApp Business de forma profissional
    </CardDescription>
  </CardHeader>

  <CardContent className="space-y-4">
    {/* Nome do neg√≥cio */}
    <FormField
      name="businessName"
      label="Nome do seu neg√≥cio"
      placeholder="Ex: Jo√£o Silva - Planos de Sa√∫de"
      required
      hint="Este ser√° o nome exibido no WhatsApp"
    />

    {/* Vertical */}
    <FormField
      name="vertical"
      label="√Årea de atua√ß√£o"
      type="select"
      required
      options={[
        { value: 'health', label: 'üè• Planos de Sa√∫de' },
        { value: 'real-estate', label: 'üè† Im√≥veis' },
        { value: 'insurance', label: 'üõ°Ô∏è Seguros' },
        { value: 'automotive', label: 'üöó Ve√≠culos' },
      ]}
    />

    {/* Telefone do neg√≥cio */}
    <FormField
      name="businessPhone"
      label="Telefone do neg√≥cio"
      type="tel"
      placeholder="+55 61 98280-9595"
      required
      hint="Use um n√∫mero que N√ÉO esteja cadastrado no WhatsApp pessoal"
    />

    {/* CPF/CNPJ */}
    <FormField
      name="cpfCnpj"
      label="CPF ou CNPJ"
      placeholder="000.000.000-00 ou 00.000.000/0000-00"
      required
      hint="Necess√°rio para verifica√ß√£o da Meta"
    />

    {/* Opcionais */}
    <Collapsible>
      <CollapsibleTrigger>
        + Adicionar mais informa√ß√µes (opcional)
      </CollapsibleTrigger>
      <CollapsibleContent className="space-y-4 mt-4">
        <FormField
          name="website"
          label="Website"
          type="url"
          placeholder="https://seunegocio.com.br"
        />

        <FormField
          name="instagram"
          label="Instagram"
          placeholder="@seunegocio"
        />

        <FormField
          name="address.street"
          label="Endere√ßo"
          placeholder="Rua, n√∫mero"
        />

        <div className="grid grid-cols-2 gap-4">
          <FormField
            name="address.city"
            label="Cidade"
            placeholder="Bras√≠lia"
          />
          <FormField
            name="address.state"
            label="Estado"
            type="select"
            options={brazilianStates}
          />
        </div>

        <FormField
          name="address.zipCode"
          label="CEP"
          placeholder="70000-000"
        />

        <FormField
          name="logo"
          label="Logo do neg√≥cio"
          type="file"
          accept="image/*"
          hint="Ser√° usado como foto de perfil no WhatsApp"
        />
      </CollapsibleContent>
    </Collapsible>
  </CardContent>
</Card>
```

### Passo 3: Configura√ß√£o Autom√°tica

```typescript
// Ap√≥s cadastro, mostra preview da configura√ß√£o

<Card>
  <CardHeader>
    <CardTitle>‚ú® Tudo pronto para configurar!</CardTitle>
    <CardDescription>
      Veja como seu WhatsApp Business ficar√°:
    </CardDescription>
  </CardHeader>

  <CardContent>
    {/* Preview do perfil WhatsApp */}
    <div className="bg-[#075E54] rounded-lg p-4 text-white mb-4">
      <div className="flex items-center gap-3 mb-3">
        <Avatar className="w-12 h-12">
          <AvatarImage src={formData.logo || defaultAvatar} />
          <AvatarFallback>{getInitials(formData.businessName)}</AvatarFallback>
        </Avatar>
        <div>
          <div className="font-semibold">{formData.businessName}</div>
          <div className="text-xs text-green-200">
            {formData.businessPhone}
          </div>
        </div>
      </div>

      <div className="bg-white/10 rounded p-3 text-sm">
        <div className="font-semibold mb-1">Sobre</div>
        <div className="text-white/90">
          {aiGeneratedConfig.description}
        </div>
      </div>
    </div>

    {/* Mensagem de sauda√ß√£o */}
    <div className="mb-4">
      <div className="text-sm font-semibold mb-2">
        Mensagem de sauda√ß√£o:
      </div>
      <div className="bg-gray-100 rounded-lg p-3 text-sm">
        {aiGeneratedConfig.greeting}
      </div>
    </div>

    {/* CTA */}
    <Button
      onClick={handleMetaConnect}
      className="w-full"
      size="lg"
    >
      Conectar WhatsApp agora
    </Button>

    <p className="text-xs text-gray-500 mt-3 text-center">
      Ao conectar, todas essas configura√ß√µes ser√£o aplicadas
      automaticamente. Voc√™ poder√° edit√°-las depois.
    </p>
  </CardContent>
</Card>
```

## üìà Impacto no Neg√≥cio

### M√©tricas Estimadas

| M√©trica | Concorrentes | Consultor.AI | Ganho |
|---------|--------------|--------------|-------|
| **Tempo de onboarding** | 60-120 min | 2-5 min | **96% mais r√°pido** |
| **Taxa de conclus√£o** | 40-60% | 90-95% | **+75% convers√£o** |
| **Suporte necess√°rio** | Alto (tickets) | Baixo (self-service) | **-80% tickets** |
| **Satisfa√ß√£o (NPS)** | 30-50 | 70-90 | **+100% satisfa√ß√£o** |

### ROI para o Neg√≥cio

```
Cen√°rio: 1000 cadastros/m√™s

Concorrentes:
- Tempo m√©dio: 90 min/pessoa
- Taxa conclus√£o: 50%
- Convers√µes: 500 consultores ativos
- Custo suporte: R$20/consultor (tickets)
- CAC efetivo: R$40 + R$20 = R$60

Consultor.AI:
- Tempo m√©dio: 3 min/pessoa
- Taxa conclus√£o: 92%
- Convers√µes: 920 consultores ativos
- Custo suporte: R$2/consultor (quase zero)
- CAC efetivo: R$40 + R$2 = R$42

Ganho:
- +84% mais convers√µes (920 vs 500)
- -30% menor CAC (R$42 vs R$60)
- -90% menos suporte
```

## üéØ Messaging de Marketing

### Headline

> **"WhatsApp conectado em 2 minutos. Zero configura√ß√£o manual."**

### Sub-headline

> "Enquanto outras plataformas exigem horas de configura√ß√£o t√©cnica, com o Consultor.AI voc√™ conecta seu WhatsApp Business em 3 cliques. Literalmente."

### Benef√≠cios

- ‚úÖ **Sem conhecimento t√©cnico** - Se voc√™ usa Facebook, voc√™ consegue
- ‚úÖ **Sem copiar/colar chaves** - Tudo autom√°tico via Meta
- ‚úÖ **Sem criar conta em outro lugar** - Direto com a Meta
- ‚úÖ **Configura√ß√£o profissional** - IA configura tudo para voc√™
- ‚úÖ **Gr√°tis at√© 1.000 conversas/m√™s** - API oficial da Meta

### Proof Points

- "Setup 30x mais r√°pido que concorrentes"
- "92% completam o onboarding (vs 50% da m√©dia do mercado)"
- "Zero chamados de suporte para configura√ß√£o"

## üìö Pr√≥ximos Passos

1. ‚úÖ Implementar coleta de dados no signup
2. ‚úÖ Criar Meta App e configurar Embedded Signup
3. ‚úÖ Implementar pr√©-preenchimento autom√°tico
4. ‚úÖ Implementar configura√ß√£o p√≥s-conex√£o
5. ‚úÖ Gerar configura√ß√µes com IA
6. ‚úÖ Criar preview do perfil WhatsApp
7. ‚úÖ Testes A/B do fluxo de onboarding
8. ‚úÖ Documenta√ß√£o para usu√°rios

---

**Diferencial chave**: Onboarding 30x mais r√°pido = 2x mais convers√µes = 50% menor CAC üöÄ
